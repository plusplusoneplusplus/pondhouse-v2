{% extends "layout.html" %}

{% block title %}PondHouse - Key-Value Store{% endblock %}

{% block page_title %}Key-Value Store{% endblock %}

{% block content %}
<div class="row g-3">
    <div class="col-12">
        <form action="/get" method="post" class="mb-3">
            <div class="input-group">
                <input type="text" name="key" class="form-control" placeholder="Key" required>
                <button type="submit" class="btn btn-primary">Get</button>
            </div>
        </form>
    </div>
    <div class="col-12">
        <form action="/put" method="post" class="mb-3">
            <div class="input-group">
                <input type="text" name="key" class="form-control" placeholder="Key" required>
                <input type="text" name="value" class="form-control" placeholder="Value"
                    required>
                <button type="submit" class="btn btn-primary">Put</button>
            </div>
        </form>
    </div>
    <div class="col-12">
        <form action="/delete" method="post" class="mb-3">
            <div class="input-group">
                <input type="text" name="key" class="form-control" placeholder="Key" required>
                <button type="submit" class="btn btn-danger">Delete</button>
            </div>
        </form>
    </div>
    <div class="col-12">
        <form action="/list" method="post">
            <div class="input-group">
                <input type="text" name="start_key" class="form-control"
                    placeholder="Start Key (optional)">
                <input type="text" name="end_key" class="form-control"
                    placeholder="End Key (optional)">
                <input type="number" name="limit" class="form-control"
                    placeholder="Limit (optional)" min="1">
                <button type="submit" class="btn btn-info">List Keys</button>
            </div>
        </form>
    </div>
</div>

{% if result %}
<div class="result mt-4">
    <p class="mb-0">{{ result }}</p>
</div>
{% endif %}

{% if keys %}
<div class="key-list mt-4">
    <h5>Keys:</h5>
    {% for key_item in keys %}
    <div class="key-item">
        <strong>Key:</strong> {{ key_item.key }}
        {% if key_item.value %}
        <br>
        <strong>Value:</strong> {{ key_item.value }}
        {% endif %}
    </div>
    {% endfor %}
</div>
{% endif %}
{% endblock %}